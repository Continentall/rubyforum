<!-- Из-за _в начале названия файла - это Паршал-->

<%= render 'shared/errors', object: @user %> <!-- object - переменная внутри паршела errors -->


<%= form_with model: @user do |f| %> <!-- Создание формы, данные которой пойдут в модель @topic / С помощью f можем добавлять элементы -->
    <div class="mb-3 row">
        <div class="col-sm-2 col-form-label">
            <%= f.label :email %> <!-- Создает html тег label -->
        </div>

        <div class="col-sm-10">
            <%= f.text_field :email,  placeholder: t('.email'), class: 'form-control form-control-lg' %> <!-- Сложно для восприятия, но важно правилно ставить : -->
        </div>
    </div>

    <div class="mb-3 row">
        <div class="col-sm-2 col-form-label">
            <%= f.label :name %> <!-- Создает html тег label -->
        </div>

        <div class="col-sm-10">
            <%= f.text_field :name,  placeholder: t('.name'), class: 'form-control form-control-lg' %> <!-- Сложно для восприятия, но важно правилно ставить : -->
        </div>
    </div>

    <div class="mb-3 row">
    <div class="col-sm-2 col-form-label">
        <%= f.label :role %>
    </div>

    <div class="col-sm-10">
        <%= f.text_field :role, class: 'form-control-plaintext form-control-lg mb-3', readonly: true %>
    </div>

    <div class="mb-3 row">
        <div class="col-sm-2 col-form-label">
            <%= f.label :password %> <!-- Создает html тег label -->
        </div>

        <div class="col-sm-10">
            <%= f.password_field :password,  placeholder: t('.password'), class: 'form-control form-control-lg' %> <!-- Сложно для восприятия, но важно правилно ставить : -->
        </div>
    </div>
    
    <div class="mb-3 row">
        <div class="col-sm-2 col-form-label">
            <%= f.label :password_confirmation %> <!-- Создает html тег label -->
        </div>

        <div class="col-sm-10">
            <%= f.password_field :password_confirmation,  placeholder: t('.confirmation'), class: 'form-control form-control-lg' %> <!-- Сложно для восприятия, но важно правилно ставить : -->
        </div>
    </div>
    <% unless @user.new_record? %> <!--new.record? проверяет отсутствует ли объект для которого он вызван в бд (нет в бд -> он находится в памяти)  -->
        <div class="mb-3 row">
            <div class="col-sm-2 col-form-label">
                <%= f.label :old_password %> <!-- Создает html тег label -->
            </div>

            <div class="col-sm-10">
                <%= f.password_field :old_password,  placeholder: t('.confirmation'), class: 'form-control form-control-lg' %> <!-- Сложно для восприятия, но важно правилно ставить : -->
            </div>
        </div>
    <% end %>

    <%= f.submit (@user.new_record? ? t('.registration') : t('.save')), class: 'btn btn-outline-dark btn-lg' %>
    <!--new.record? проверяет отсутствует ли объект для которого он вызван в бд (нет в бд -> он находится в памяти)  -->
<% end %>